<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv='expires' content='-1' />
	<meta http-equiv= 'pragma' content='no-cache' />
	
	<title>The Has One Relationship - IgnitedRecord User Guide Version 0.2.0</title>
	
	<link rel='stylesheet' type='text/css' media='all' href='../userguide.css' />
	<link rel="Shortcut Icon" href="../images/favicon.ico">
	<link rel="icon" href="../images/favicon.ico" type="image/x-icon">
	
	<script type="text/javascript" src="../jquery.js"></script>
	<script type="text/javascript" src="../nav.js"></script>
	<script type="text/javascript" charset="utf-8">
$(document).ready(function(){
	$('#nav').hide();
	$('#toggle_toc').click(function(){
		$('#nav').slideToggle();
	})
});
	</script>
</head>
<body>
<div id="nav">
	<script type="text/javascript">menu('../');</script>
</div>
<div id="nav2"><a name="top"></a><a id="toggle_toc"><img src="../images/nav_toggle.jpg" width="153" height="44" border="0" title="Toggle Table of Contents" alt="Toggle Table of Contents" /></a></div>
<div id="masthead">
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td><h1>IgnitedRecord User Guide Version 0.2.0</h1></td>
<td id="breadcrumb_right"><a href="../toc.html">Table of Contents Page</a></td>
</tr>
</table>
</div>
<!-- END NAVIGATION -->


<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td id="breadcrumb">
<a href="http://www.assembla.com/spaces/IgnitedRecord">IgnitedRecord Home</a> &nbsp;&#8250;&nbsp; IgnitedRecord User Guide &nbsp;&#8250;&nbsp; The Has One Relationship
</td>
<td id="searchbox"></td>
</tr>
</table>

<div id="content">
	<h1>The Has One Relationship</h1>
	
	<p>
		This is like an inverted Belongs To relation, both relates one record.<br />
		But by specifying a Has relationship, we declare that the foreign key
		(the key referring to the other table) should reside in the other table.
		In the case below, pictures.
	</p>

	<p>
		Or you can look at it as a Has Many relation, but with the limitation that only one related record is allowed.
	</p>
	
	<table cellpadding="0" cellspacing="0">
		<tr>
			<td>
				<code>
	class user extends IgnitedRecord{<br />
	&nbsp;&nbsp;&nbsp;&nbsp;var $has_one = 'picture';<br />
	}
	</code>
	<code>
	class picture extends IgnitedRecord{<br />
	&nbsp;&nbsp;&nbsp;&nbsp;var $belongs_to = 'user';<br />
	}
				</code>
			</td>
			<td>
				<img src="../images/has_one_belongs_to.png" />
			</td>
		</tr>
	</table>
	
	<p>
		Settings for a Has One relationship:
	</p>
	
	<table cellpadding="0" cellspacing="1" border="0" class="tableborder">
	<tr>
		<th>Key</th>
		<th>Short</th>
		<th>Default</th>
		<th>Description</th>
	</tr>
	<tr>
		<td class="td">table</td>
		<td class="td" style="text-align:center;">-</td>
		<td class="td"><kbd>name</kbd></td>
		<td class="td">The related table</td>
	</tr>
	<tr>
		<td class="td">name</td>
		<td class="td" style="text-align:center;">-</td>
		<td class="td"><kbd>modelname</kbd></td>
		<td class="td">The relation name, used when adding, removing and loading related records</td>
	</tr>
	<tr>
		<td class="td">model</td>
		<td class="td" style="text-align:center;">-</td>
		<td class="td">
			<kbd>tablename</kbd> or singular(<kbd>tablename</kbd>),
			depending on if a model with that name exists
		</td>
		<td class="td">
			The model to be used when instantiating related records<br />
			(if no model is found, it creates records which doesn't link to the database)
		</td>
	</tr>
	<tr>
		<td class="td">foreign_key</td>
		<td class="td" style="text-align:center;">fk</td>
		<td class="td"><kbd>tablename</kbd> for this table (NOT the related) + _id</td>
		<td class="td">The foreign key column used by the relation</td>
	</tr>
	</table>
	
	<p>
		The <kbd>name</kbd> or <kbd>table</kbd> setting must be specified when
		specifying the settings as properties.<br />
		When specifying relations using <dfn>has_one()</dfn>,
		the name must always be set.
	</p>
</div>


<div id="footer">
<p><a href="#top">Top of Page</a></p>
<p><a href="http://www.assembla.com/spaces/IgnitedRecord">IgnitedRecord</a>  &nbsp;&middot;&nbsp; Copyright &#169; 2008 &nbsp;&middot;&nbsp; Martin Wernstahl</p>
<p><a href="http://codeigniter.com">CodeIgniter</a> &nbsp;&middot;&nbsp; Copyright &#169; 2006-2008 &nbsp;&middot;&nbsp; <a href="http://ellislab.com/">Ellislab, Inc.</a></p>
</div>


</body>
</html>